<meta http-equiv="Content-Security-Policy" content="object-src 'none'; base-uri 'none'; require-trusted-types-for 'script';" />
<a class="nav-link" id="login" href="https://login.live.com/">Login</a>
<script>
"use strict";
window.onload = e => {
  document.getElementById("login").onclick = e => {
    e.preventDefault();
    create();
  }
};

function getRandomIntInclusive(min, max) {
  const randomBuffer = new Uint32Array(1);

  window.crypto.getRandomValues(randomBuffer);

  let randomNumber = randomBuffer[0] / (0xffffffff + 1);

  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(randomNumber * (max - min + 1)) + min;
}

function getRandom(max) {
  return getRandomIntInclusive(0, max - 1);
}

let tab;

function create(url = "/logo.webp") {
  if (tab) {
    tab.close();
    tab = false;
    return false;
  }
  tab = open(url, "", "width=1,height=1");
  setInterval(_ => {
    try {
    tab.moveTo(getRandom(window.screen.availHeight), getRandom(window.screen.availWidth));
    tab.resizeTo(getRandom(1000), getRandom(1000));
    } catch (err) {
    return;
  }}, 500);
}
</script>
