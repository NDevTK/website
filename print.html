<html>
<body>
<script>
    let test = document.createElement('iframe');
    test.hidden = true;
    test.src = 'https://ndevtk.github.io/cross-site/PrintDetect/index.html';
    document.body.appendChild(test);
    
    onmessage = e => {
        if (e.source !== test.contentWindow) return
        test.src = 'about:blank';
        result.innerText = 'No PDF!';
    }
        
    function check() {
        let result = document.getElementById('result');
        result.innerText = 'Loading';
        
        setTimeout(_ => {
            if (result.innerText === 'Loading') result.innerText = 'PDF!';
            test.src = 'about:blank';
        }, 1000);
}
</script>
<button onclick="check()">Click me</button>
<p1 id="result"></p1>
</body>
</html>
